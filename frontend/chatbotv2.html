<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Chatbot Flotante de Asistencia</title>
    
    <style>
        /* Estilos Generales para el cuerpo de la página */
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            height: 200vh; /* Solo para simular una página con scroll */
            padding-bottom: 80px;
        }

        /* Estilo para el botón flotante (el signo de interrogación) */
        #floating-button {
            position: fixed; /* Lo fija en la ventana, no en el contenido */
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%; /* Lo hace circular */
            background-color: #007bff;
            color: white;
            font-size: 24px;
            font-weight: bold;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000; /* Asegura que esté por encima de otros elementos */
        }
        
        /* Contenedor principal de la ventana del chatbot */
        #chat-window {
            position: fixed;
            bottom: 80px; /* Separado del botón */
            right: 20px;
            width: 350px; /* Ancho similar al de tu imagen */
            height: 450px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.25);
            display: none; /* OCULTO por defecto */
            flex-direction: column;
            overflow: hidden;
            z-index: 999;
        }

        /* Header (Encabezado) */
        #chat-header {
            padding: 15px;
            border-bottom: 1px solid #eee;
            font-weight: bold;
            font-size: 16px;
            background-color: #f7f7f7;
        }

        /* Área de Mensajes */
        #chat-messages {
            flex-grow: 1;
            padding: 10px;
            overflow-y: auto; /* Permite scroll vertical */
            display: flex;
            flex-direction: column;
        }
        
        /* Estilo para cada mensaje */
        .message {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 15px;
            max-width: 80%;
            line-height: 1.4;
        }
        .user-message {
            align-self: flex-end; /* A la derecha */
            background-color: #007bff;
            color: white;
            border-bottom-right-radius: 3px;
        }
        .ai-message {
            align-self: flex-start; /* A la izquierda */
            background-color: #f0f0f0;
            color: #333;
            border-bottom-left-radius: 3px;
        }
        .ai-message p {
            margin: 0;
            /* Para que los saltos de línea se respeten y se vea bien */
            white-space: pre-wrap; 
        }

        /* Área de Input (Donde se escribe) */
        #chat-input-area {
            display: flex;
            padding: 10px;
            border-top: 1px solid #eee;
            background-color: white;
        }
        #user-input {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 20px;
            margin-right: 10px;
        }
        #send-button {
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 0 15px;
            cursor: pointer;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <button id="floating-button" onclick="toggleChatWindow()">?</button>

    <div id="chat-window">
        <div id="chat-header">Asistente</div>
        
        <div id="chat-messages">
            <div class="ai-message">
                <p>¡Hola! Soy tu asistente de reparaciones. Pregúntame cómo arreglar algo.</p>
            </div>
        </div>
        
        <div id="chat-input-area">
            <input type="text" id="user-input" placeholder="¿Cómo puedo arreglar x cosa?" onkeypress="handleKeyPress(event)">
            <button id="send-button" onclick="enviarPregunta()">Enviar</button>
        </div>
    </div>

</body>
</html>